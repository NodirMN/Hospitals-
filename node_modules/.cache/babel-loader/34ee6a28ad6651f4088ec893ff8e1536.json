{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\hospitalreact-main\\\\src\\\\pages\\\\depart.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport Table from \"../component/table\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Depart = () => {\n  _s();\n\n  const [isForm, setForm] = useState(false);\n  const [data, setData] = useState([]);\n  const option = {\n    id: 'ID',\n    name: 'Bo`lim nomi',\n    status: 'Bo`lim holati'\n  };\n  useEffect(() => {\n    axios.get('http://localhost:3000/departs').then(res => {\n      if (res.status === 200) {\n        setData(res.data);\n      }\n    });\n  }, []);\n\n  const addDepart = e => {\n    e.preventDefault();\n    let form = document.forms.depart;\n    let dep = {};\n    let formData = new FormData(form);\n    formData.forEach((value, key) => {\n      dep[key] = value;\n    });\n    axios.post('http://localhost:3000/departs', dep).then(res => {\n      if (res.status === 201) {\n        setData([...data, res.data]);\n        form.reset();\n      }\n    });\n  };\n\n  const deleteRoom = id => {\n    const index = data.findIndex(el => el.id === id);\n    axios.delete(`http://localhost:3000/departs/${id}`).then(res => {\n      if (res.status === 200) {\n        const before = data.slice(0, index);\n        const after = data.slice(index + 1);\n        setData([...before, ...after]);\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Bo'limlar ro'yhati\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      data: data,\n      option: option,\n      url: \"depart\",\n      del: id => {\n        deleteRoom(id);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"addbtn\",\n      onClick: () => {\n        setForm(true);\n      },\n      children: \"+\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      name: \"depart\",\n      className: isForm ? 'add show' : 'add',\n      onSubmit: event => {\n        addDepart(event);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"add__close\",\n        onClick: () => {\n          setForm(false);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"add__title\",\n        children: \"Yangi bo'lim qo'shish\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"name\",\n        placeholder: \"Bo'lim nomini yozing\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"status\",\n        required: true,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Bo'lim xolatini belgilang\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Ish holatda\",\n          children: \"Ish holatda\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Remont\",\n          children: \"Tarqatildi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Qo'shish\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Depart, \"oh5Bp8sIR3AxcJ5APHcztiKMHKo=\");\n\n_c = Depart;\nexport default Depart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Depart\");","map":{"version":3,"sources":["C:/Users/User/OneDrive/Рабочий стол/hospitalreact-main/src/pages/depart.js"],"names":["axios","React","useEffect","useState","Table","Depart","isForm","setForm","data","setData","option","id","name","status","get","then","res","addDepart","e","preventDefault","form","document","forms","depart","dep","formData","FormData","forEach","value","key","post","reset","deleteRoom","index","findIndex","el","delete","before","slice","after","event"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport Table from \"../component/table\";\n\nconst Depart = () =>{\n    const [isForm, setForm] = useState(false)\n    const [data, setData] = useState([])\n    \n    const option = {\n        id: 'ID',\n        name: 'Bo`lim nomi',\n        status: 'Bo`lim holati',\n    }\n\n    useEffect(()=>{\n        axios.get('http://localhost:3000/departs')\n        .then(res => {\n            if (res.status === 200){\n                setData(res.data)\n            }\n        })\n    },[])\n\n    \n\n    const addDepart=(e)=>{\n        e.preventDefault()\n        let form = document.forms.depart \n        let dep = {}\n        let formData = new FormData(form)\n        formData.forEach((value,key)=>{\n            dep[key] = value \n        })\n        axios.post('http://localhost:3000/departs',dep)\n        .then(res => {\n            if (res.status === 201){\n                setData([...data, res.data])\n                form.reset()\n            }\n        })\n    }\n\n    const deleteRoom =(id)=>{\n        const index = data.findIndex(el=> el.id === id)\n        axios.delete(`http://localhost:3000/departs/${id}`)\n        .then(res => {\n            if (res.status === 200){\n                const before = data.slice(0,index)\n                const after  = data.slice(index+1)\n                setData([...before, ...after])\n            }\n        })\n    }\n\n    return (\n        <>\n            <h1>Bo'limlar ro'yhati</h1>\n            <Table \n                data={data} \n                option={option} \n                url='depart'\n                del={(id)=>{ deleteRoom(id) }}\n            />\n            <button \n                className=\"addbtn\" \n                onClick={()=>{setForm(true)}}>\n                    +\n            </button>\n            <form \n                name='depart'\n                className={isForm?'add show':'add'}\n                onSubmit={(event)=>{addDepart(event)}}\n                >\n                <span \n                    className=\"add__close\" \n                    onClick={()=>{setForm(false)}}>\n                </span>\n                <div className=\"add__title\">\n                    Yangi bo'lim qo'shish\n                </div>\n                <input name='name'\n                    placeholder=\"Bo'lim nomini yozing\"\n                    required\n                />\n                <select name=\"status\" required>\n                    <option value=''>Bo'lim xolatini belgilang</option>\n                    <option value='Ish holatda'>Ish holatda</option>\n                    <option value='Remont'>Tarqatildi</option>\n                </select>\n                <button type=\"submit\">Qo'shish</button>\n            </form>\n        </>\n    )\n}\n\nexport default Depart"]},"metadata":{},"sourceType":"module"}